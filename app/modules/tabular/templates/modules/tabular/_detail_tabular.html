{% extends "base_template.html" %}
{% block content %}
{% set meta = meta or dataset.meta_data %}
<div class="container my-4">
  <h3>Dataset: {{ dataset.ds_meta_data.title if dataset.ds_meta_data else ("#" ~ dataset.id) }}</h3>

  {% if meta %}
    <p class="text-muted">
      Filas: {{ meta.n_rows }} · Columnas: {{ meta.n_cols }}
      · Delimitador: {{ meta.delimiter }} · Cabecera: {{ "sí" if meta.has_header else "no" }}
      · Encoding: {{ meta.encoding or "utf-8" }}
    </p>
  {% endif %}

  {% if meta and meta.sample_rows %}
    <h5>Vista previa ({{ meta.sample_rows|length }} filas)</h5>
    <div class="table-responsive">
      <table class="table table-bordered table-sm">
        <tbody>
        {% for row in meta.sample_rows %}
          <tr>
            {% for cell in row %}
              <td>{{ cell }}</td>
            {% endfor %}
          </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <p class="text-muted">No hay filas de muestra para mostrar.</p>
  {% endif %}
</div>
{% endblock %}
